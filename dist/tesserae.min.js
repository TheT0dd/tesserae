var Tesserae=function(e){function t(a){if(r[a])return r[a].exports;var n=r[a]={exports:{},id:a,loaded:!1};return e[a].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=r(1),o=a(s),h=r(2),l=a(h),u=function(){function e(t){var r=t.container,a=t.tesseraWidth,i=void 0===a?30:a,s=t.tesseraHeight,o=void 0===s?30:s,h=t.randomcolor,l=void 0===h?{hue:"monochrome",luminosity:"light"}:h,u=t.filter,c=void 0===u?{color:"#333",opacity:.6}:u,f=t.gradual,d=void 0!==f&&f,v=t.animate,y=void 0!==v&&v;if(n(this,e),!r)throw"Tesserae Error: container option is missing.";if(this.containerEl=document.querySelector(r),!this.containerEl)throw"Tesserae Error: no container element found: "+r;this.tesseraWidth=parseInt(i,10),this.tesseraHeight=parseInt(o,10),this.randomcolor=l,this.filter=c,this.gradual=d,this.animate=y,this.containerStyle=window.getComputedStyle(this.containerEl,null),this.tesserae=[],this.renderVersion=0,this.init()}return i(e,[{key:"init",value:function(){this.lazyDraw=l["default"].debounce(this.draw,200).bind(this),window.addEventListener("resize",this.lazyDraw),this.draw()}},{key:"destroy",value:function(){this._emptyContainer(),this._restoreContainer(),this.tesserae.length=0,window.removeEventListener("resize",this.lazyDraw)}},{key:"draw",value:function(){if(this.renderVersion++,this._editContainer(),this._prepareCanvas(),this._generateTesserae(),this._addFilter(),this.gradual&&this.gradual.enable){var e=l["default"].cloneArrayShallow(this.tesserae);l["default"].shuffle(e),this._drawTesseraeGradually(e,0,this.gradual.step||1,this.renderVersion)}else this._drawTesserae(this.tesserae)}},{key:"_editContainer",value:function(){"static"===this.containerStyle.getPropertyValue("position")&&(this.containerEl.style.position="relative"),this.containerEl.style.boxSizing="border-box"}},{key:"_restoreContainer",value:function(){}},{key:"_addFilter",value:function(){if(this.filter&&!this.filterEl){var e=this.filterEl=document.createElement("div");e.style.width="100%",e.style.height="100%",e.style.backgroundColor=this.filter.color,e.style.opacity=this.filter.opacity,e.style.position="absolute",e.style.zIndex=1,e.style.top=0,this.containerEl.appendChild(e)}}},{key:"_prepareCanvas",value:function(){var e=this.containerStyle,t=this.containerEl.clientHeight,r=this.containerEl.clientWidth;t-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),r-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),this.ctx&&this.canvas?this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height):(this.canvas=document.createElement("canvas"),this.canvas.id="tesserae",this._emptyContainer(),this.containerEl.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d")),this.canvas.width=r,this.canvas.height=t}},{key:"_generateTesserae",value:function(){var e=this.canvas.offsetWidth%this.tesseraWidth,t=this.canvas.offsetHeight%this.tesseraHeight,r=Math.floor(this.canvas.offsetWidth/this.tesseraWidth),a=e>0?r+2:r,n=Math.floor(this.canvas.offsetHeight/this.tesseraHeight),i=t>0?n+2:n;this.tesserae.length=0;for(var s=0,h=0;h<i;h++){var u=0,c=this.tesseraHeight;0===h&&t>0&&(c=Math.floor(t/2)),h===i-1&&t>0&&(c=Math.ceil(t/2));for(var f=0;f<a;f++){var d=this.tesseraWidth;0===f&&e>0&&(d=Math.floor(e/2)),f===a-1&&e>0&&(d=Math.ceil(e/2));var v=new o["default"]({x:u,y:s,width:d,height:c,hslArray:l["default"].getRandomColor(this.randomcolor,"hslArray")});this.tesserae.push(v),u+=d}s+=c}}},{key:"_drawTesserae",value:function(e){for(var t=0,r=e.length;t<r;t++)e[t].draw(this.ctx,this.animate)}},{key:"_drawTesseraeGradually",value:function(e,t,r,a){var n=this;if(t in e){for(var i=r;i-- >0&&e[t];)e[t++].draw(this.ctx,this.animate);requestAnimationFrame(function(){a===n.renderVersion&&n._drawTesseraeGradually(e,t,r,a)})}}},{key:"_emptyContainer",value:function(){for(var e=this.containerEl;e.firstChild;)e.removeChild(e.firstChild)}},{key:"_getRandomTessera",value:function(){return this.tesserae[l["default"].getRandomInt(0,this.tesserae.length)]}}]),e}();t["default"]=u,e.exports=t["default"]},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=r(2),o=a(s),h=function(){function e(t){var r=t.x,a=t.y,i=t.width,s=t.height,h=(t.hsl,t.hslArray);n(this,e),this.x=r,this.y=a,this.width=i,this.height=s,this.hsl=o["default"].arrayToHsl(h),this.hslArray=h}return i(e,[{key:"draw",value:function(e,t){t&&t.enable?this.drawAnimated(e,t.step):(e.fillStyle=this.hsl,e.fillRect(this.x,this.y,this.width,this.height))}},{key:"drawAnimated",value:function(e){var t=this,r=arguments.length<=1||void 0===arguments[1]?2:arguments[1];return this._hslStepArray||(this._hslStepArray=[this.hslArray[0],this.hslArray[1],100]),e.fillStyle=o["default"].arrayToHsl(this._hslStepArray),e.fillRect(this.x,this.y,this.width,this.height),this._hslStepArray[2]===this.hslArray[2]?void delete this._hslStepArray:(this._hslStepArray[2]=Math.max(this._hslStepArray[2]-r,this.hslArray[2]),void requestAnimationFrame(function(){t.drawAnimated(e)}))}}]),e}();t["default"]=h,e.exports=t["default"]},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=r(3),s=a(i),o=window.Utils={};o.debounce=function(e,t,r){var a=void 0;return function(){var n=this,i=arguments,s=function(){a=null,r||e.apply(n,i)},o=r&&!a;clearTimeout(a),a=setTimeout(s,t),o&&e.apply(n,i)}},o.getRandomInt=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},o.getRandomColor=function(e,t){e.format=t;var r=[];do r=(0,s["default"])(e);while(isNaN(r[0])||isNaN(r[1])||isNaN(r[2]));return r},o.shuffle=function(e){for(var t=e.length,r=void 0,a=void 0;t;)a=Math.floor(Math.random()*t--),r=e[t],e[t]=e[a],e[a]=r;return e},o.cloneArrayShallow=function(e){for(var t=[],r=0,a=e.length;r<a;r++)t[r]=e[r];return t},o.hexToRgb=function(e){var t=[],r=!1;e=e.replace(/#/,""),3===e.length&&(e+=e);for(var a=0;a<6;a+=2)t.push(parseInt(e.substr(a,2),16)),r=r||"NaN"===t[t.length-1].toString();return!r&&t},o.rgbToHsl=function(e,t,r){e/=255,t/=255,r/=255;var a=Math.max(e,t,r),n=Math.min(e,t,r),i=void 0,s=void 0,o=(a+n)/2;if(a===n)i=s=0;else{var h=a-n;switch(s=o>.5?h/(2-a-n):h/(a+n),a){case e:i=(t-r)/h+(t<r?6:0);break;case t:i=(r-e)/h+2;break;case r:i=(e-t)/h+4}i/=6}return[100*i+.5|0,(100*s+.5|0)+"%",(100*o+.5|0)+"%"]},o.hexToHsl=function(e){return o.rgbToHsl.apply(o,n(o.hexToRgb(e)))},o.arrayToHsl=function(e){return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"},t["default"]=o,e.exports=t["default"]},function(e,t,r){var a,n,i;!function(r,s){n=[],a=s,i="function"==typeof a?a.apply(t,n):a,!(void 0!==i&&(e.exports=i))}(this,function(){function e(e){var t=i(e.hue),r=h(t);return r<0&&(r=360+r),r}function t(e,t){if("random"===t.luminosity)return h([0,100]);if("monochrome"===t.hue)return 0;var r=s(e),a=r[0],n=r[1];switch(t.luminosity){case"bright":a=55;break;case"dark":a=n-10;break;case"light":n=55}return h([a,n])}function r(e,t,r){var a=n(e,t),i=100;switch(r.luminosity){case"dark":i=a+20;break;case"light":a=(i+a)/2;break;case"random":a=0,i=100}return h([a,i])}function a(e,t){switch(t.format){case"hsvArray":return e;case"hslArray":return d(e);case"hsl":var r=d(e);return"hsl("+r[0]+", "+r[1]+"%, "+r[2]+"%)";case"hsla":var a=d(e);return"hsla("+a[0]+", "+a[1]+"%, "+a[2]+"%, "+Math.random()+")";case"rgbArray":return f(e);case"rgb":var n=f(e);return"rgb("+n.join(", ")+")";case"rgba":var i=f(e);return"rgba("+i.join(", ")+", "+Math.random()+")";default:return l(e)}}function n(e,t){for(var r=o(e).lowerBounds,a=0;a<r.length-1;a++){var n=r[a][0],i=r[a][1],s=r[a+1][0],h=r[a+1][1];if(t>=n&&t<=s){var l=(h-i)/(s-n),u=i-l*n;return l*t+u}}return 0}function i(e){if("number"==typeof parseInt(e)){var t=parseInt(e);if(t<360&&t>0)return[t,t]}if("string"==typeof e&&g[e]){var r=g[e];if(r.hueRange)return r.hueRange}return[0,360]}function s(e){return o(e).saturationRange}function o(e){e>=334&&e<=360&&(e-=360);for(var t in g){var r=g[t];if(r.hueRange&&e>=r.hueRange[0]&&e<=r.hueRange[1])return g[t]}return"Color not found"}function h(e){if(null===y)return Math.floor(e[0]+Math.random()*(e[1]+1-e[0]));var t=e[1]||1,r=e[0]||0;y=(9301*y+49297)%233280;var a=y/233280;return Math.floor(r+a*(t-r))}function l(e){function t(e){var t=e.toString(16);return 1==t.length?"0"+t:t}var r=f(e),a="#"+t(r[0])+t(r[1])+t(r[2]);return a}function u(e,t,r){var a=r[0][0],n=r[r.length-1][0],i=r[r.length-1][1],s=r[0][1];g[e]={hueRange:t,lowerBounds:r,saturationRange:[a,n],brightnessRange:[i,s]}}function c(){u("monochrome",null,[[0,0],[100,0]]),u("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),u("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),u("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),u("green",[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),u("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),u("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),u("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function f(e){var t=e[0];0===t&&(t=1),360===t&&(t=359),t/=360;var r=e[1]/100,a=e[2]/100,n=Math.floor(6*t),i=6*t-n,s=a*(1-r),o=a*(1-i*r),h=a*(1-(1-i)*r),l=256,u=256,c=256;switch(n){case 0:l=a,u=h,c=s;break;case 1:l=o,u=a,c=s;break;case 2:l=s,u=a,c=h;break;case 3:l=s,u=o,c=a;break;case 4:l=h,u=s,c=a;break;case 5:l=a,u=s,c=o}var f=[Math.floor(255*l),Math.floor(255*u),Math.floor(255*c)];return f}function d(e){var t=e[0],r=e[1]/100,a=e[2]/100,n=(2-r)*a;return[t,Math.round(r*a/(n<1?n:2-n)*1e4)/100,n/2*100]}function v(e){for(var t=0,r=0;r!==e.length&&!(t>=Number.MAX_SAFE_INTEGER);r++)t+=e.charCodeAt(r);return t}var y=null,g={};c();var p=function(n){if(n=n||{},n.seed&&n.seed===parseInt(n.seed,10))y=n.seed;else if("string"==typeof n.seed)y=v(n.seed);else{if(void 0!==n.seed&&null!==n.seed)throw new TypeError("The seed value must be an integer or string");y=null}var i,s,o;if(null!==n.count&&void 0!==n.count){var h=n.count,l=[];for(n.count=null;h>l.length;)y&&n.seed&&(n.seed+=1),l.push(p(n));return n.count=h,l}return i=e(n),s=t(i,n),o=r(i,s,n),a([i,s,o],n)};return p})}]);