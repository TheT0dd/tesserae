var Tesserae=function(t){function e(a){if(r[a])return r[a].exports;var i=r[a]={exports:{},id:a,loaded:!1};return t[a].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,r,a){return r&&t(e.prototype,r),a&&t(e,a),e}}(),n=r(1),s=r(2),o=function(){function t(e){var r=e.container,i=e.tesseraWidth,n=void 0===i?30:i,s=e.tesseraHeight,o=void 0===s?30:s,h=e.randomcolor,l=void 0===h?{hue:"monochrome",luminosity:"light"}:h,u=e.filter,c=void 0===u?{color:"#000",opacity:.6}:u,f=e.gradual,d=void 0===f?{enable:!0,step:10}:f,v=e.animate,y=void 0===v?{enable:!0,step:2}:v,m=e.live,g=void 0===m?{enable:!0,minInterval:50,maxInterval:500}:m;if(a(this,t),!r)throw"Tesserae Error: container option is missing.";if(this.containerEl=document.querySelector(r),!this.containerEl)throw"Tesserae Error: no container element found: "+r;if(this.tesseraWidth=parseInt(n,10),this.tesseraHeight=parseInt(o,10),this.randomcolor=l,this.filter=c,this.gradual=d,this.animate=y,this.live=g,this.live&&this.live.enable!==!1){var p=parseInt(g.minInterval,10)||50,A=parseInt(g.maxInterval,10)||500;this.live.minInterval=p,this.live.maxInterval=Math.max(p,A)}this.containerStyle=window.getComputedStyle(this.containerEl,null),this.tesserae=[],this.renderVersion=0,this._init()}return i(t,[{key:"_init",value:function(){this.lazyDraw=s.debounce(this.draw,200).bind(this),window.addEventListener("resize",this.lazyDraw),this.draw()}},{key:"destroy",value:function(){this._emptyContainer(),this._restoreContainer(),clearTimeout(this.animateTimer),this.tesserae.length=0,window.removeEventListener("resize",this.lazyDraw)}},{key:"draw",value:function(){if(this.renderVersion++,this._editContainer(),this._prepareCanvas(),this._generateTesserae(),this._addFilter(),this.gradual&&this.gradual.enable!==!1){var t=s.cloneArrayShallow(this.tesserae);s.shuffle(t),this._drawTesseraeGradually(t,0,this.gradual.step||1,this.renderVersion)}else this._drawTesserae(this.tesserae);this.live&&this.live.enable!==!1&&this._animateRandomTessera(this.live)}},{key:"_animateRandomTessera",value:function(){var t=this;this.animateTimer=setTimeout(function(){var e=t._getRandomTessera();e.animateToColor(t.ctx,s.getRandomColor(t.randomcolor,"hslArray")),t._animateRandomTessera()},s.getRandomInt(this.live.minInterval,this.live.maxInterval))}},{key:"_editContainer",value:function(){"static"===this.containerStyle.getPropertyValue("position")&&(this.containerEl.style.position="relative"),this.containerEl.style.boxSizing="border-box"}},{key:"_restoreContainer",value:function(){}},{key:"_addFilter",value:function(){if(this.filter&&!this.filterEl){var t=this.filterEl=document.createElement("div");t.style.width="100%",t.style.height="100%",t.style.backgroundColor=this.filter.color,t.style.opacity=this.filter.opacity,t.style.position="absolute",t.style.zIndex=1,t.style.top=0,this.containerEl.appendChild(t)}}},{key:"_prepareCanvas",value:function(){var t=this.containerStyle,e=this.containerEl.clientHeight,r=this.containerEl.clientWidth;e-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),r-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),this.ctx&&this.canvas?this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height):(this.canvas=document.createElement("canvas"),this.canvas.id="tesserae",this._emptyContainer(),this.containerEl.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d")),this.canvas.width=r,this.canvas.height=e}},{key:"_generateTesserae",value:function(){var t=this.canvas.offsetWidth%this.tesseraWidth,e=this.canvas.offsetHeight%this.tesseraHeight,r=Math.floor(this.canvas.offsetWidth/this.tesseraWidth),a=t>0?r+2:r,i=Math.floor(this.canvas.offsetHeight/this.tesseraHeight),o=e>0?i+2:i;this.tesserae.length=0;for(var h=0,l=0;l<o;l++){var u=0,c=this.tesseraHeight;0===l&&e>0&&(c=Math.floor(e/2)),l===o-1&&e>0&&(c=Math.ceil(e/2));for(var f=0;f<a;f++){var d=this.tesseraWidth;0===f&&t>0&&(d=Math.floor(t/2)),f===a-1&&t>0&&(d=Math.ceil(t/2));var v=new n({x:u,y:h,width:d,height:c,hslArray:s.getRandomColor(this.randomcolor,"hslArray")});this.tesserae.push(v),u+=d}h+=c}}},{key:"_drawTesserae",value:function(t){for(var e=0,r=t.length;e<r;e++)t[e].draw(this.ctx,this.animate)}},{key:"_drawTesseraeGradually",value:function(t,e,r,a){var i=this;if(e in t){for(var n=r;n-- >0&&t[e];)t[e++].draw(this.ctx,this.animate);requestAnimationFrame(function(){a===i.renderVersion&&i._drawTesseraeGradually(t,e,r,a)})}}},{key:"_emptyContainer",value:function(){for(var t=this.containerEl;t.firstChild;)t.removeChild(t.firstChild)}},{key:"_getRandomTessera",value:function(){return this.tesserae[s.getRandomInt(0,this.tesserae.length)]}}]),t}();t.exports=o},function(t,e,r){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,r,a){return r&&t(e.prototype,r),a&&t(e,a),e}}(),n=r(2),s=function(){function t(e){var r=e.x,i=e.y,s=e.width,o=e.height,h=(e.hsl,e.hslArray);a(this,t),this.x=r,this.y=i,this.width=s,this.height=o,this.hsl=n.arrayToHsl(h),this.hslArray=h,this.isDrawing=!1}return i(t,[{key:"draw",value:function(t,e){e&&e.enable!==!1?this.drawAnimated(t,e.step):(t.fillStyle=this.hsl,t.fillRect(this.x,this.y,this.width,this.height))}},{key:"drawAnimated",value:function(t){var e=this,r=arguments.length<=1||void 0===arguments[1]?2:arguments[1];return this._curDrawHslArray||(this.isDrawing=!0,this._curDrawHslArray=[this.hslArray[0],this.hslArray[1],100]),t.fillStyle=n.arrayToHsl(this._curDrawHslArray),t.fillRect(this.x,this.y,this.width,this.height),n.equalHslArrays(this._curDrawHslArray,this.hslArray)?(delete this._curDrawHslArray,void(this.isDrawing=!1)):(this._curDrawHslArray[2]=Math.max(this._curDrawHslArray[2]-r,this.hslArray[2]),void requestAnimationFrame(function(){e.drawAnimated(t)}))}},{key:"animateToColor",value:function(t,e){var r=this;if(!this._curAnimateHslArray){if(this.isDrawing)return;this._curAnimateHslArray=n.cloneArrayShallow(this.hslArray),this.hslArray=e;var a=40;this._stepHsl=[];var i=this.hslArray[0]-this._curAnimateHslArray[0],s=Math.abs(i),o=n.sign(this.hslArray[0]-this._curAnimateHslArray[0]);s>180?this._stepHsl[0]=(s-360)/a*o:this._stepHsl[0]=s/a*o,this._stepHsl[1]=(this.hslArray[1]-this._curAnimateHslArray[1])/a,this._stepHsl[2]=(this.hslArray[2]-this._curAnimateHslArray[2])/a}if(t.fillStyle=n.arrayToHsl(this._curAnimateHslArray),t.fillRect(this.x,this.y,this.width,this.height),n.equalHslArrays(this._curAnimateHslArray,this.hslArray,!0))return void delete this._curAnimateHslArray;var h=this._curAnimateHslArray[0]+this._stepHsl[0];h=h>360?h%360:h<0?360+h:h;var l=this._curAnimateHslArray[1]+this._stepHsl[1],u=this._curAnimateHslArray[2]+this._stepHsl[2];this._curAnimateHslArray=[h,l,u],requestAnimationFrame(function(){r.animateToColor(t,e)})}}]),t}();t.exports=s},function(t,e,r){"use strict";function a(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var i=r(3),n={};n.debounce=function(t,e,r){var a=void 0;return function(){var i=this,n=arguments,s=function(){a=null,r||t.apply(i,n)},o=r&&!a;clearTimeout(a),a=setTimeout(s,e),o&&t.apply(i,n)}},n.getRandomInt=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t},n.getRandomColor=function(t,e){t.format=e;var r=[];do r=i(t);while(isNaN(r[0])||isNaN(r[1])||isNaN(r[2]));return r},n.shuffle=function(t){for(var e=t.length,r=void 0,a=void 0;e;)a=Math.floor(Math.random()*e--),r=t[e],t[e]=t[a],t[a]=r;return t},n.cloneArrayShallow=function(t){for(var e=[],r=0,a=t.length;r<a;r++)e[r]=t[r];return e},n.hexToRgb=function(t){var e=[],r=!1;t=t.replace(/#/,""),3===t.length&&(t+=t);for(var a=0;a<6;a+=2)e.push(parseInt(t.substr(a,2),16)),r=r||"NaN"===e[e.length-1].toString();return!r&&e},n.rgbToHsl=function(t,e,r){t/=255,e/=255,r/=255;var a=Math.max(t,e,r),i=Math.min(t,e,r),n=void 0,s=void 0,o=(a+i)/2;if(a===i)n=s=0;else{var h=a-i;switch(s=o>.5?h/(2-a-i):h/(a+i),a){case t:n=(e-r)/h+(e<r?6:0);break;case e:n=(r-t)/h+2;break;case r:n=(t-e)/h+4}n/=6}return[100*n+.5|0,(100*s+.5|0)+"%",(100*o+.5|0)+"%"]},n.hexToHsl=function(t){return n.rgbToHsl.apply(n,a(n.hexToRgb(t)))},n.arrayToHsl=function(t){return"hsl("+t[0]+","+t[1]+"%,"+t[2]+"%)"},n.equalHslArrays=function(t,e,r){return r?Math.abs(t[0]-e[0])<1&&Math.abs(t[1]-e[1]<1)&&Math.abs(t[2]-e[2]<1):t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},n.sign=function(t){return 0===t?0:t/Math.abs(t)},t.exports=n},function(t,e,r){var a,i,n;!function(r,s){i=[],a=s,n="function"==typeof a?a.apply(e,i):a,!(void 0!==n&&(t.exports=n))}(this,function(){function t(t){var e=n(t.hue),r=h(e);return r<0&&(r=360+r),r}function e(t,e){if("random"===e.luminosity)return h([0,100]);if("monochrome"===e.hue)return 0;var r=s(t),a=r[0],i=r[1];switch(e.luminosity){case"bright":a=55;break;case"dark":a=i-10;break;case"light":i=55}return h([a,i])}function r(t,e,r){var a=i(t,e),n=100;switch(r.luminosity){case"dark":n=a+20;break;case"light":a=(n+a)/2;break;case"random":a=0,n=100}return h([a,n])}function a(t,e){switch(e.format){case"hsvArray":return t;case"hslArray":return d(t);case"hsl":var r=d(t);return"hsl("+r[0]+", "+r[1]+"%, "+r[2]+"%)";case"hsla":var a=d(t);return"hsla("+a[0]+", "+a[1]+"%, "+a[2]+"%, "+Math.random()+")";case"rgbArray":return f(t);case"rgb":var i=f(t);return"rgb("+i.join(", ")+")";case"rgba":var n=f(t);return"rgba("+n.join(", ")+", "+Math.random()+")";default:return l(t)}}function i(t,e){for(var r=o(t).lowerBounds,a=0;a<r.length-1;a++){var i=r[a][0],n=r[a][1],s=r[a+1][0],h=r[a+1][1];if(e>=i&&e<=s){var l=(h-n)/(s-i),u=n-l*i;return l*e+u}}return 0}function n(t){if("number"==typeof parseInt(t)){var e=parseInt(t);if(e<360&&e>0)return[e,e]}if("string"==typeof t&&m[t]){var r=m[t];if(r.hueRange)return r.hueRange}return[0,360]}function s(t){return o(t).saturationRange}function o(t){t>=334&&t<=360&&(t-=360);for(var e in m){var r=m[e];if(r.hueRange&&t>=r.hueRange[0]&&t<=r.hueRange[1])return m[e]}return"Color not found"}function h(t){if(null===y)return Math.floor(t[0]+Math.random()*(t[1]+1-t[0]));var e=t[1]||1,r=t[0]||0;y=(9301*y+49297)%233280;var a=y/233280;return Math.floor(r+a*(e-r))}function l(t){function e(t){var e=t.toString(16);return 1==e.length?"0"+e:e}var r=f(t),a="#"+e(r[0])+e(r[1])+e(r[2]);return a}function u(t,e,r){var a=r[0][0],i=r[r.length-1][0],n=r[r.length-1][1],s=r[0][1];m[t]={hueRange:e,lowerBounds:r,saturationRange:[a,i],brightnessRange:[n,s]}}function c(){u("monochrome",null,[[0,0],[100,0]]),u("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),u("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),u("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),u("green",[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),u("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),u("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),u("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function f(t){var e=t[0];0===e&&(e=1),360===e&&(e=359),e/=360;var r=t[1]/100,a=t[2]/100,i=Math.floor(6*e),n=6*e-i,s=a*(1-r),o=a*(1-n*r),h=a*(1-(1-n)*r),l=256,u=256,c=256;switch(i){case 0:l=a,u=h,c=s;break;case 1:l=o,u=a,c=s;break;case 2:l=s,u=a,c=h;break;case 3:l=s,u=o,c=a;break;case 4:l=h,u=s,c=a;break;case 5:l=a,u=s,c=o}var f=[Math.floor(255*l),Math.floor(255*u),Math.floor(255*c)];return f}function d(t){var e=t[0],r=t[1]/100,a=t[2]/100,i=(2-r)*a;return[e,Math.round(r*a/(i<1?i:2-i)*1e4)/100,i/2*100]}function v(t){for(var e=0,r=0;r!==t.length&&!(e>=Number.MAX_SAFE_INTEGER);r++)e+=t.charCodeAt(r);return e}var y=null,m={};c();var g=function(i){if(i=i||{},i.seed&&i.seed===parseInt(i.seed,10))y=i.seed;else if("string"==typeof i.seed)y=v(i.seed);else{if(void 0!==i.seed&&null!==i.seed)throw new TypeError("The seed value must be an integer or string");y=null}var n,s,o;if(null!==i.count&&void 0!==i.count){var h=i.count,l=[];for(i.count=null;h>l.length;)y&&i.seed&&(i.seed+=1),l.push(g(i));return i.count=h,l}return n=t(i),s=e(n,i),o=r(n,s,i),a([n,s,o],i)};return g})}]);