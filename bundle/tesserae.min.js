var Tesserae=function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),s=r(2),o=function(){function e(t){var r=t.container,a=t.tesseraWidth,i=void 0===a?30:a,s=t.tesseraHeight,o=void 0===s?30:s,h=t.randomcolor,l=void 0===h?{hue:"monochrome",luminosity:"light"}:h,u=t.filter,c=void 0===u?{color:"#000",opacity:.6}:u,f=t.gradual,d=void 0===f?{enable:!0,step:10}:f,v=t.animate,y=void 0===v?{enable:!0,step:2}:v;if(n(this,e),!r)throw"Tesserae Error: container option is missing.";if(this.containerEl=document.querySelector(r),!this.containerEl)throw"Tesserae Error: no container element found: "+r;this.tesseraWidth=parseInt(i,10),this.tesseraHeight=parseInt(o,10),this.randomcolor=l,this.filter=c,this.gradual=d,this.animate=y,this.containerStyle=window.getComputedStyle(this.containerEl,null),this.tesserae=[],this.renderVersion=0,this.init()}return a(e,[{key:"init",value:function(){this.lazyDraw=s.debounce(this.draw,200).bind(this),window.addEventListener("resize",this.lazyDraw),this.draw()}},{key:"destroy",value:function(){this._emptyContainer(),this._restoreContainer(),this.tesserae.length=0,window.removeEventListener("resize",this.lazyDraw)}},{key:"draw",value:function(){if(this.renderVersion++,this._editContainer(),this._prepareCanvas(),this._generateTesserae(),this._addFilter(),this.gradual&&this.gradual.enable){var e=s.cloneArrayShallow(this.tesserae);s.shuffle(e),this._drawTesseraeGradually(e,0,this.gradual.step||1,this.renderVersion)}else this._drawTesserae(this.tesserae)}},{key:"_editContainer",value:function(){"static"===this.containerStyle.getPropertyValue("position")&&(this.containerEl.style.position="relative"),this.containerEl.style.boxSizing="border-box"}},{key:"_restoreContainer",value:function(){}},{key:"_addFilter",value:function(){if(this.filter&&!this.filterEl){var e=this.filterEl=document.createElement("div");e.style.width="100%",e.style.height="100%",e.style.backgroundColor=this.filter.color,e.style.opacity=this.filter.opacity,e.style.position="absolute",e.style.zIndex=1,e.style.top=0,this.containerEl.appendChild(e)}}},{key:"_prepareCanvas",value:function(){var e=this.containerStyle,t=this.containerEl.clientHeight,r=this.containerEl.clientWidth;t-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),r-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),this.ctx&&this.canvas?this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height):(this.canvas=document.createElement("canvas"),this.canvas.id="tesserae",this._emptyContainer(),this.containerEl.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d")),this.canvas.width=r,this.canvas.height=t}},{key:"_generateTesserae",value:function(){var e=this.canvas.offsetWidth%this.tesseraWidth,t=this.canvas.offsetHeight%this.tesseraHeight,r=Math.floor(this.canvas.offsetWidth/this.tesseraWidth),n=e>0?r+2:r,a=Math.floor(this.canvas.offsetHeight/this.tesseraHeight),o=t>0?a+2:a;this.tesserae.length=0;for(var h=0,l=0;l<o;l++){var u=0,c=this.tesseraHeight;0===l&&t>0&&(c=Math.floor(t/2)),l===o-1&&t>0&&(c=Math.ceil(t/2));for(var f=0;f<n;f++){var d=this.tesseraWidth;0===f&&e>0&&(d=Math.floor(e/2)),f===n-1&&e>0&&(d=Math.ceil(e/2));var v=new i({x:u,y:h,width:d,height:c,hslArray:s.getRandomColor(this.randomcolor,"hslArray")});this.tesserae.push(v),u+=d}h+=c}}},{key:"_drawTesserae",value:function(e){for(var t=0,r=e.length;t<r;t++)e[t].draw(this.ctx,this.animate)}},{key:"_drawTesseraeGradually",value:function(e,t,r,n){var a=this;if(t in e){for(var i=r;i-- >0&&e[t];)e[t++].draw(this.ctx,this.animate);requestAnimationFrame(function(){n===a.renderVersion&&a._drawTesseraeGradually(e,t,r,n)})}}},{key:"_emptyContainer",value:function(){for(var e=this.containerEl;e.firstChild;)e.removeChild(e.firstChild)}},{key:"_getRandomTessera",value:function(){return this.tesserae[s.getRandomInt(0,this.tesserae.length)]}}]),e}();e.exports=o},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(2),s=function(){function e(t){var r=t.x,a=t.y,s=t.width,o=t.height,h=(t.hsl,t.hslArray);n(this,e),this.x=r,this.y=a,this.width=s,this.height=o,this.hsl=i.arrayToHsl(h),this.hslArray=h}return a(e,[{key:"draw",value:function(e,t){t&&t.enable?this.drawAnimated(e,t.step):(e.fillStyle=this.hsl,e.fillRect(this.x,this.y,this.width,this.height))}},{key:"drawAnimated",value:function(e){var t=this,r=arguments.length<=1||void 0===arguments[1]?2:arguments[1];return this._hslStepArray||(this._hslStepArray=[this.hslArray[0],this.hslArray[1],100]),e.fillStyle=i.arrayToHsl(this._hslStepArray),e.fillRect(this.x,this.y,this.width,this.height),this._hslStepArray[2]===this.hslArray[2]?void delete this._hslStepArray:(this._hslStepArray[2]=Math.max(this._hslStepArray[2]-r,this.hslArray[2]),void requestAnimationFrame(function(){t.drawAnimated(e)}))}}]),e}();e.exports=s},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var a=r(3),i={};i.debounce=function(e,t,r){var n=void 0;return function(){var a=this,i=arguments,s=function(){n=null,r||e.apply(a,i)},o=r&&!n;clearTimeout(n),n=setTimeout(s,t),o&&e.apply(a,i)}},i.getRandomInt=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},i.getRandomColor=function(e,t){e.format=t;var r=[];do r=a(e);while(isNaN(r[0])||isNaN(r[1])||isNaN(r[2]));return r},i.shuffle=function(e){for(var t=e.length,r=void 0,n=void 0;t;)n=Math.floor(Math.random()*t--),r=e[t],e[t]=e[n],e[n]=r;return e},i.cloneArrayShallow=function(e){for(var t=[],r=0,n=e.length;r<n;r++)t[r]=e[r];return t},i.hexToRgb=function(e){var t=[],r=!1;e=e.replace(/#/,""),3===e.length&&(e+=e);for(var n=0;n<6;n+=2)t.push(parseInt(e.substr(n,2),16)),r=r||"NaN"===t[t.length-1].toString();return!r&&t},i.rgbToHsl=function(e,t,r){e/=255,t/=255,r/=255;var n=Math.max(e,t,r),a=Math.min(e,t,r),i=void 0,s=void 0,o=(n+a)/2;if(n===a)i=s=0;else{var h=n-a;switch(s=o>.5?h/(2-n-a):h/(n+a),n){case e:i=(t-r)/h+(t<r?6:0);break;case t:i=(r-e)/h+2;break;case r:i=(e-t)/h+4}i/=6}return[100*i+.5|0,(100*s+.5|0)+"%",(100*o+.5|0)+"%"]},i.hexToHsl=function(e){return i.rgbToHsl.apply(i,n(i.hexToRgb(e)))},i.arrayToHsl=function(e){return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"},e.exports=i},function(e,t,r){var n,a,i;!function(r,s){a=[],n=s,i="function"==typeof n?n.apply(t,a):n,!(void 0!==i&&(e.exports=i))}(this,function(){function e(e){var t=i(e.hue),r=h(t);return r<0&&(r=360+r),r}function t(e,t){if("random"===t.luminosity)return h([0,100]);if("monochrome"===t.hue)return 0;var r=s(e),n=r[0],a=r[1];switch(t.luminosity){case"bright":n=55;break;case"dark":n=a-10;break;case"light":a=55}return h([n,a])}function r(e,t,r){var n=a(e,t),i=100;switch(r.luminosity){case"dark":i=n+20;break;case"light":n=(i+n)/2;break;case"random":n=0,i=100}return h([n,i])}function n(e,t){switch(t.format){case"hsvArray":return e;case"hslArray":return d(e);case"hsl":var r=d(e);return"hsl("+r[0]+", "+r[1]+"%, "+r[2]+"%)";case"hsla":var n=d(e);return"hsla("+n[0]+", "+n[1]+"%, "+n[2]+"%, "+Math.random()+")";case"rgbArray":return f(e);case"rgb":var a=f(e);return"rgb("+a.join(", ")+")";case"rgba":var i=f(e);return"rgba("+i.join(", ")+", "+Math.random()+")";default:return l(e)}}function a(e,t){for(var r=o(e).lowerBounds,n=0;n<r.length-1;n++){var a=r[n][0],i=r[n][1],s=r[n+1][0],h=r[n+1][1];if(t>=a&&t<=s){var l=(h-i)/(s-a),u=i-l*a;return l*t+u}}return 0}function i(e){if("number"==typeof parseInt(e)){var t=parseInt(e);if(t<360&&t>0)return[t,t]}if("string"==typeof e&&g[e]){var r=g[e];if(r.hueRange)return r.hueRange}return[0,360]}function s(e){return o(e).saturationRange}function o(e){e>=334&&e<=360&&(e-=360);for(var t in g){var r=g[t];if(r.hueRange&&e>=r.hueRange[0]&&e<=r.hueRange[1])return g[t]}return"Color not found"}function h(e){if(null===y)return Math.floor(e[0]+Math.random()*(e[1]+1-e[0]));var t=e[1]||1,r=e[0]||0;y=(9301*y+49297)%233280;var n=y/233280;return Math.floor(r+n*(t-r))}function l(e){function t(e){var t=e.toString(16);return 1==t.length?"0"+t:t}var r=f(e),n="#"+t(r[0])+t(r[1])+t(r[2]);return n}function u(e,t,r){var n=r[0][0],a=r[r.length-1][0],i=r[r.length-1][1],s=r[0][1];g[e]={hueRange:t,lowerBounds:r,saturationRange:[n,a],brightnessRange:[i,s]}}function c(){u("monochrome",null,[[0,0],[100,0]]),u("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),u("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),u("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),u("green",[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),u("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),u("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),u("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function f(e){var t=e[0];0===t&&(t=1),360===t&&(t=359),t/=360;var r=e[1]/100,n=e[2]/100,a=Math.floor(6*t),i=6*t-a,s=n*(1-r),o=n*(1-i*r),h=n*(1-(1-i)*r),l=256,u=256,c=256;switch(a){case 0:l=n,u=h,c=s;break;case 1:l=o,u=n,c=s;break;case 2:l=s,u=n,c=h;break;case 3:l=s,u=o,c=n;break;case 4:l=h,u=s,c=n;break;case 5:l=n,u=s,c=o}var f=[Math.floor(255*l),Math.floor(255*u),Math.floor(255*c)];return f}function d(e){var t=e[0],r=e[1]/100,n=e[2]/100,a=(2-r)*n;return[t,Math.round(r*n/(a<1?a:2-a)*1e4)/100,a/2*100]}function v(e){for(var t=0,r=0;r!==e.length&&!(t>=Number.MAX_SAFE_INTEGER);r++)t+=e.charCodeAt(r);return t}var y=null,g={};c();var p=function(a){if(a=a||{},a.seed&&a.seed===parseInt(a.seed,10))y=a.seed;else if("string"==typeof a.seed)y=v(a.seed);else{if(void 0!==a.seed&&null!==a.seed)throw new TypeError("The seed value must be an integer or string");y=null}var i,s,o;if(null!==a.count&&void 0!==a.count){var h=a.count,l=[];for(a.count=null;h>l.length;)y&&a.seed&&(a.seed+=1),l.push(p(a));return a.count=h,l}return i=e(a),s=t(i,a),o=r(i,s,a),n([i,s,o],a)};return p})}]);